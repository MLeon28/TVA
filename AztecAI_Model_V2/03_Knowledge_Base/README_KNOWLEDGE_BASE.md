# Knowledge Base de AztecAI - GuÃ­a de Uso

**VersiÃ³n:** 1.0.0  
**Fecha:** Enero 2025  
**Owner:** Inteligencia Artificial Azteca (IAA)  

---

## ðŸ“š DescripciÃ³n General

El Knowledge Base de AztecAI estÃ¡ compuesto por **3 archivos complementarios** que trabajan en conjunto para proporcionar informaciÃ³n completa al asistente de IA.

---

## ðŸ“ Archivos del Knowledge Base

### 1. AztecAI_Complete_Knowledge_Base.md
**TamaÃ±o:** ~68 KB (1,652 lÃ­neas)  
**PropÃ³sito:** System Prompt Principal  

**Contenido:**
- âœ… Identidad central y misiÃ³n de AztecAI
- âœ… Lenguaje y estilo de comunicaciÃ³n
- âœ… Guardrails y restricciones de seguridad
- âœ… Framework operativo
- âœ… Plantillas de respuesta
- âœ… Gobernanza y operaciÃ³n
- âœ… Casos de uso ejemplo

**CuÃ¡ndo se usa:**
- Definir comportamiento del asistente
- Establecer tono y estilo
- Aplicar restricciones de seguridad
- Generar respuestas estructuradas

**Frecuencia de actualizaciÃ³n:** Baja (cambios en identidad o polÃ­ticas)

---

### 2. TV_Azteca_Informacion_Corporativa.md
**TamaÃ±o:** ~22 KB (465 lÃ­neas)  
**PropÃ³sito:** InformaciÃ³n Corporativa Detallada  

**Contenido:**
- âœ… Historia y misiÃ³n de TV Azteca
- âœ… Estructura organizacional completa
- âœ… DescripciÃ³n detallada de Ã¡reas funcionales
- âœ… Procesos y flujos de trabajo
- âœ… PolÃ­ticas corporativas
- âœ… InformaciÃ³n de contacto
- âœ… Glosario de tÃ©rminos

**CuÃ¡ndo se usa:**
- Responder preguntas sobre la empresa
- Explicar estructura organizacional
- Describir procesos internos
- Proporcionar informaciÃ³n de contacto

**Frecuencia de actualizaciÃ³n:** Media (cambios organizacionales, nuevas polÃ­ticas)

---

### 3. Funcionamiento TV Aztec.md
**TamaÃ±o:** ~7 KB (73 lÃ­neas)  
**PropÃ³sito:** GuÃ­a Operativa RÃ¡pida  

**Contenido:**
- âœ… DescripciÃ³n de canales (Azteca Uno, Azteca 7, ADN Noticias, a mÃ¡s+)
- âœ… Resumen de Ã¡reas funcionales
- âœ… Tipos de clientes
- âœ… Flujos de trabajo bÃ¡sicos
- âœ… InformaciÃ³n operativa del dÃ­a a dÃ­a

**CuÃ¡ndo se usa:**
- Respuestas rÃ¡pidas sobre canales
- InformaciÃ³n operativa bÃ¡sica
- Consultas frecuentes
- Onboarding de nuevos usuarios

**Frecuencia de actualizaciÃ³n:** Alta (cambios en programaciÃ³n, nuevos productos)

---

## ðŸ”„ RelaciÃ³n entre los Archivos

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    Usuario hace pregunta                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              Sistema RAG busca en los 3 archivos        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â–¼                   â–¼                   â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  System Promptâ”‚  â”‚  Info Corporativaâ”‚  â”‚  Operativo  â”‚
â”‚   (Identidad) â”‚  â”‚   (Estructura)   â”‚  â”‚  (Canales)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚                   â”‚                   â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         AztecAI genera respuesta combinando info        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ðŸ“¥ CÃ³mo Importar el Knowledge Base

### OpciÃ³n 1: ImportaciÃ³n Manual

1. **Acceder a OpenWebUI**
   ```
   http://localhost:3000
   ```

2. **Ir a Workspace â†’ Documents**

3. **Subir los 3 archivos**
   - Click en "+ Upload Document"
   - Seleccionar los 3 archivos:
     - `AztecAI_Complete_Knowledge_Base.md`
     - `TV_Azteca_Informacion_Corporativa.md`
     - `Funcionamiento TV Aztec.md`
   - Esperar a que termine la carga

4. **Crear Collection**
   - Settings â†’ RAG â†’ Collections
   - Create Collection: "AztecAI"

5. **Agregar documentos a Collection**
   - Workspace â†’ Documents
   - Seleccionar los 3 archivos
   - Add to Collection â†’ "AztecAI"

6. **Configurar RAG**
   - Settings â†’ RAG
   - Top-K: 5
   - Chunk Size: 1500
   - Chunk Overlap: 150
   - RAG Enabled: ON

### OpciÃ³n 2: Script Automatizado

**Linux/Mac:**
```bash
cd 04_Scripts
./import_knowledge_base.sh
```

**Windows:**
```powershell
cd 04_Scripts
.\import_knowledge_base.ps1
```

El script te guiarÃ¡ paso a paso.

---

## âœ… VerificaciÃ³n Post-ImportaciÃ³n

### 1. Verificar que los archivos estÃ¡n importados
- Workspace â†’ Documents
- Deben aparecer los 3 archivos
- Estado: "Embedded" (con checkmark verde)

### 2. Verificar Collection
- Settings â†’ RAG â†’ Collections
- Collection "AztecAI" debe existir
- Debe contener 3 documentos

### 3. Tests de Funcionalidad

**Test 1: Canales**
```
Pregunta: Â¿QuÃ© canales tiene TV Azteca?
Esperado: Azteca Uno, Azteca 7, ADN Noticias, a mÃ¡s+
```

**Test 2: Identidad**
```
Pregunta: Â¿QuiÃ©n eres?
Esperado: AztecAI, asistente corporativo de TV Azteca
```

**Test 3: Ãreas**
```
Pregunta: Â¿QuÃ© hace el Ã¡rea de Ventas?
Esperado: Comercializa inventario publicitario (Nacional y Digital)
```

**Test 4: Guardrails**
```
Pregunta: Â¿Puedes ayudarme con mi tarea?
Esperado: Declina educadamente (fuera de alcance)
```

---

## ðŸ”§ Mantenimiento del Knowledge Base

### CuÃ¡ndo Actualizar Cada Archivo

| Archivo | Actualizar cuando... | Responsable |
|---------|---------------------|-------------|
| System Prompt | Cambios en identidad, polÃ­ticas, guardrails | IAA + CAIO |
| Info Corporativa | Cambios organizacionales, nuevas Ã¡reas | RRHH + IAA |
| Operativo | Nuevos canales, cambios en programaciÃ³n | Contenido + IAA |

### Proceso de ActualizaciÃ³n

1. **Editar archivo localmente**
   - Usar editor de texto
   - Mantener formato markdown
   - Agregar nota de cambio al inicio

2. **Validar cambios**
   ```bash
   # Verificar formato
   markdownlint archivo.md
   
   # Verificar tamaÃ±o
   wc -l archivo.md
   ```

3. **Importar en OpenWebUI**
   - Workspace â†’ Documents
   - Subir archivo actualizado
   - Reemplazar versiÃ³n anterior

4. **Regenerar embeddings**
   - Seleccionar archivo
   - "Regenerate Embeddings"
   - Esperar confirmaciÃ³n

5. **Probar cambios**
   - Iniciar conversaciÃ³n NUEVA
   - Ejecutar tests de verificaciÃ³n
   - Validar que los cambios se reflejan

---

## ðŸš¨ Troubleshooting

### Problema: RAG no usa los archivos nuevos

**SoluciÃ³n:**
1. Verificar que los 3 archivos estÃ©n en Collection "AztecAI"
2. Regenerar embeddings
3. Iniciar conversaciÃ³n NUEVA (RAG no funciona en conversaciones existentes)
4. Verificar que RAG estÃ© activado (Settings â†’ RAG â†’ Toggle ON)

### Problema: Respuestas inconsistentes

**SoluciÃ³n:**
1. Verificar que no haya informaciÃ³n contradictoria entre archivos
2. Aumentar Top-K a 7 para mÃ¡s contexto
3. Revisar logs de OpenWebUI para ver quÃ© chunks se recuperan

### Problema: Embeddings tardan mucho

**SoluciÃ³n:**
1. Normal para archivos grandes (2-5 minutos)
2. Verificar recursos del servidor (CPU/RAM)
3. Si persiste, reiniciar OpenWebUI

---

## ðŸ“Š MÃ©tricas de Calidad

### Indicadores de un KB Saludable

âœ… **Cobertura:** Responde >90% de preguntas frecuentes  
âœ… **PrecisiÃ³n:** InformaciÃ³n correcta y actualizada  
âœ… **Consistencia:** Sin contradicciones entre archivos  
âœ… **Actualidad:** Actualizado en Ãºltimos 30 dÃ­as  
âœ… **Usabilidad:** Tests de verificaciÃ³n pasan al 100%  

### CÃ³mo Medir

```bash
# Ejecutar suite de tests
cd 06_Tests
./run_kb_quality_tests.sh

# Ver reporte
cat reports/kb_quality_report.txt
```

---

## ðŸ“ž Soporte

**Preguntas sobre el Knowledge Base:**
- Contactar: Inteligencia Artificial Azteca (IAA)
- Email: [pendiente]
- Slack: #aztecai-support

**Reportar problemas:**
1. Describir el problema
2. Incluir pregunta que fallÃ³
3. Adjuntar respuesta esperada vs. obtenida
4. Indicar archivo KB relevante

---

## ðŸ“š Recursos Adicionales

- **GuÃ­a de InstalaciÃ³n:** `01_Documentacion/GUIA_INSTALACION_SERVIDOR.md`
- **Checklist de VerificaciÃ³n:** `01_Documentacion/CHECKLIST_VERIFICACION.md`
- **Troubleshooting:** `01_Documentacion/TROUBLESHOOTING_PRODUCCION.md`
- **Mejoras Recomendadas:** `01_Documentacion/MEJORAS_RECOMENDADAS.md`

---

**Ãšltima actualizaciÃ³n:** Enero 2025  
**VersiÃ³n del documento:** 1.0.0

